# knetikio-sdk

KnetikIO - JavaScript client for knetikio-sdk
<p>Use this API to send application data to Knetik.io including user/device information and transactional events.</p> <p>   Please consult the <a href=\"/doc\">official user documentation</a> to find out how to send data, and how this data is used. <p></p> <h2>Notes</h2> <br> New more ReSTful implementation of the telemetry data collection service. Legacy clients can still use the old API format, but we strongly recommend switching over to this new format. Navigate to the legacy documentation using the dropdown at the top of this page. <p></p> <h2>User IDs and Device IDs</h2> <br> Knetik.io can uniquely associate state, events and transactions to users and/or devices for your application. In order to accomplish this, each API call takes userId and deviceId as parameters in the request object. At least one of these must be provided in the request object, except as explicitly noted. <br> <p></p> <h2>Timestamps</h2> <br> All timestamp parameters must be epoch timestamps in milliseconds. <br> <p></p> <h2>Required Request Headers</h2> <br> The following HTTP header values must be provided for each API call: <ul>   <li>     <b>Content-Type: application/json</b>   </li> </ul> <p></p> <h2>Required Query Parameters</h2> <br> All API calls also require the following query parameters to be present on the URL: <ul>   <li>     <b>customer_id:</b> your unique customer ID   </li> </ul> <p></p> <h2>API Responses</h2> <br> If successful, API calls will simply return an HTTP response code of ACCEPTED (202) with no other data. If errors occur, a JSON payload will be returned containing detailed error information and an appropriate HTTP error status code will be provided (as documented in each of the API methods). <br> <p></p>
This SDK is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:

- API version: 2.0
- Package version: 3.0.7
- Build package: io.swagger.codegen.languages.JavascriptClientCodegen
For more information, please visit [http://www.knetik.com](http://www.knetik.com)

## Installation

### For [Node.js](https://nodejs.org/)

#### npm

To publish the library as a [npm](https://www.npmjs.com/),
please follow the procedure in ["Publishing npm packages"](https://docs.npmjs.com/getting-started/publishing-npm-packages).

Then install it via:

```shell
npm install knetikio-sdk --save
```

##### Local development

To use the library locally without publishing to a remote npm registry, first install the dependencies by changing 
into the directory containing `package.json` (and this README). Let's call this `JAVASCRIPT_CLIENT_DIR`. Then run:

```shell
npm install
```

Next, [link](https://docs.npmjs.com/cli/link) it globally in npm with the following, also from `JAVASCRIPT_CLIENT_DIR`:

```shell
npm link
```

Finally, switch to the directory you want to use your knetikio-sdk from, and run:

```shell
npm link /path/to/<JAVASCRIPT_CLIENT_DIR>
```

You should now be able to `require('knetikio-sdk')` in javascript files from the directory you ran the last 
command above from.

#### git
#
If the library is hosted at a git repository, e.g.
https://github.com/GIT_USER_ID/GIT_REPO_ID
then install it via:

```shell
    npm install GIT_USER_ID/GIT_REPO_ID --save
```

### For browser

The library also works in the browser environment via npm and [browserify](http://browserify.org/). After following
the above steps with Node.js and installing browserify with `npm install -g browserify`,
perform the following (assuming *main.js* is your entry file, that's to say your javascript file where you actually 
use this library):

```shell
browserify main.js > bundle.js
```

Then include *bundle.js* in the HTML pages.

### Webpack Configuration

Using Webpack you may encounter the following error: "Module not found: Error:
Cannot resolve module", most certainly you should disable AMD loader. Add/merge
the following section to your webpack config:

```javascript
module: {
  rules: [
    {
      parser: {
        amd: false
      }
    }
  ]
}
```

## Getting Started 

 KnetikCloud (JSAPI) uses a strict Oauth 2.0 implementation with the following grant types: 

* **Password grant**: Used for user authentication, usually from an unsecured web or mobile client when a fully authenticated user account is required to perform actions. ex: 

```curl 
POST /oauth/token?grant_type=password&client_id=web&username=jdoe&password=68a4sd3sd
 ``` 

* **Client credentials grant**: 
 Used for server authentication or secured clients when the secret key cannot be discovered. This kind of grant is typically used for administrative tasks on the application itself or to access other user's account information. 

```curl 
POST /oauth/token grant_type=client_credentials&client_id=server-client-id&client_secret=1s31dfas65d4f3sa651c3s54f 
```  

The endpoint will return a response containing the authentication token as follows: 
```json: 
{"access_token":"25a0659c-6f4a-40bd-950e-0ba4af7acf0f","token_type":"bearer","expires_in":2145660769,"scope":"write read"}
``` 

Use the provided access_token in sub-sequent requests to authenticate (see code below). Make sure you refresh your token before it expires to avoid having to re-authenticate.

Please follow the [installation](#installation) instruction and execute the following JS code:

```javascript
var KnetikIO = require('knetikio-sdk');

var api = new KnetikIO.BatchApi()

var customerId = "customerId_example"; // {String} customerId

var opts = { 
  'batchRequest': new KnetikIO.DataCollectorBatchRequest() // {DataCollectorBatchRequest} The batch of requests to submit
};
api.submitBatch(customerId, opts).then(function(data) {
  console.log('API called successfully. Returned data: ' + data);
}, function(error) {
  console.error(error);
});


```

## Documentation for API Endpoints

All URIs are relative to *https://api.knetik.io*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*KnetikIO.BatchApi* | [**submitBatch**](docs/BatchApi.md#submitBatch) | **POST** /v2/batch | Submit a batch of requests as an array of input models
*KnetikIO.DebuggingApi* | [**disableDebugger**](docs/DebuggingApi.md#disableDebugger) | **DELETE** /v2/_debug/{customerId} | Disable debugging via Redis
*KnetikIO.DebuggingApi* | [**enableDebugger**](docs/DebuggingApi.md#enableDebugger) | **POST** /v2/_debug/{customerId} | Enable debugging via Redis
*KnetikIO.DevicesApi* | [**newDevice**](docs/DevicesApi.md#newDevice) | **POST** /v2/devices | Submit a new device event
*KnetikIO.DevicesApi* | [**updateDeviceState**](docs/DevicesApi.md#updateDeviceState) | **PUT** /v2/devices/{id} | Updates the state parameters for the given device
*KnetikIO.EventsApi* | [**createEvent**](docs/EventsApi.md#createEvent) | **POST** /v2/events | Creates a single event (a transaction with no duration)
*KnetikIO.MobileApplicationTrackingApi* | [**submitTuneRequest**](docs/MobileApplicationTrackingApi.md#submitTuneRequest) | **POST** /v2/tune | Submit mobile application tracking data for Tune applications
*KnetikIO.TransactionsApi* | [**beginTransaction**](docs/TransactionsApi.md#beginTransaction) | **POST** /v2/transactions | Begins a new transaction
*KnetikIO.TransactionsApi* | [**endTransaction**](docs/TransactionsApi.md#endTransaction) | **PUT** /v2/transactions/{id}/end | Ends the transaction
*KnetikIO.TransactionsApi* | [**updateCollection**](docs/TransactionsApi.md#updateCollection) | **POST** /v2/collections | Creates and finalizes a collection of transaction information
*KnetikIO.TransactionsApi* | [**updateTransaction**](docs/TransactionsApi.md#updateTransaction) | **PUT** /v2/transactions/{id} | Updates the progress for the given transaction
*KnetikIO.UsersApi* | [**newUser**](docs/UsersApi.md#newUser) | **POST** /v2/users | Submit a new user event
*KnetikIO.UsersApi* | [**updateUserState**](docs/UsersApi.md#updateUserState) | **PUT** /v2/users/{id} | Updates the entity state for the given user


## Documentation for Models

 - [KnetikIO.BatchRequestResult](docs/BatchRequestResult.md)
 - [KnetikIO.DataCollectorBaseRequest](docs/DataCollectorBaseRequest.md)
 - [KnetikIO.DataCollectorBatchRequest](docs/DataCollectorBatchRequest.md)
 - [KnetikIO.DataCollectorBeginTransactionRequest](docs/DataCollectorBeginTransactionRequest.md)
 - [KnetikIO.DataCollectorEndTransactionRequest](docs/DataCollectorEndTransactionRequest.md)
 - [KnetikIO.DataCollectorNewDeviceRequest](docs/DataCollectorNewDeviceRequest.md)
 - [KnetikIO.DataCollectorNewUserRequest](docs/DataCollectorNewUserRequest.md)
 - [KnetikIO.DataCollectorTuneRequest](docs/DataCollectorTuneRequest.md)
 - [KnetikIO.DataCollectorUpdateCollectionRequest](docs/DataCollectorUpdateCollectionRequest.md)
 - [KnetikIO.DataCollectorUpdateDeviceStateRequest](docs/DataCollectorUpdateDeviceStateRequest.md)
 - [KnetikIO.DataCollectorUpdateTransactionRequest](docs/DataCollectorUpdateTransactionRequest.md)
 - [KnetikIO.DataCollectorUpdateUserStateRequest](docs/DataCollectorUpdateUserStateRequest.md)
 - [KnetikIO.NewEventRequest](docs/NewEventRequest.md)


## Documentation for Authorization

 All endpoints do not require authorization.

